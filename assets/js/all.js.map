{"version":3,"sources":["all.js","dateRangePicker.js"],"names":["$","document","ready","click","event","preventDefault","toggleClass","window","scroll","scrollTop","navbarH","height","addClass","css","removeClass","e","fadeIn","fadeOut","on","setTimeout","daterangepicker","singleDatePicker","autoApply","locale","format","daysOfWeek","monthNames","start","end","label","animate","parent","find","slideToggle","siblings","slideUp","root","factory","define","amd","moment","jquery","fn","hasOwnProperty","module","exports","jQuery","undefined","require","DateRangePicker","element","options","cb","parentEl","startDate","startOf","endDate","endOf","minDate","maxDate","maxSpan","showDropdowns","minYear","subtract","maxYear","add","showWeekNumbers","showISOWeekNumbers","showCustomRangeLabel","timePicker","timePicker24Hour","timePickerIncrement","timePickerSeconds","linkedCalendars","autoUpdateInput","alwaysShowCalendars","ranges","opens","hasClass","drops","buttonClasses","applyButtonClasses","cancelButtonClasses","direction","localeData","longDateFormat","separator","applyLabel","cancelLabel","weekLabel","customRangeLabel","weekdaysMin","monthsShort","firstDay","firstDayOfWeek","callback","isShowing","leftCalendar","rightCalendar","extend","data","template","length","container","appendTo","slice","elem","createElement","innerHTML","rangeHtml","value","isBefore","clone","isAfter","applyClass","cancelClass","dateLimit","join","isInvalidDate","isCustomDate","iterator","push","shift","range","is","val","split","setStartDate","setEndDate","timepicker","list","prepend","hide","show","html","proxy","clickPrev","clickNext","clickDate","hoverDate","monthOrYearChanged","timeChanged","clickRange","clickApply","clickCancel","elementChanged","keydown","toggle","updateElement","prototype","constructor","minute","Math","round","floor","updateMonthsInView","previousRightTime","updateView","renderTimePicker","prop","updateCalendars","updateFormInputs","month","date","year","hour","second","parseInt","isNaN","ampm","renderCalendar","calculateChosenLabel","side","calendar","daysInMonth","lastDay","lastMonth","lastYear","daysInLastMonth","dayOfWeek","day","i","startDay","curDate","col","row","selected","arrow","left","right","dateHtml","currentMonth","currentYear","inMinYear","inMaxYear","monthHtml","m","yearHtml","y","each","index","maxLimit","week","isoWeek","classes","isSame","Date","isoWeekday","isCustom","Array","apply","cname","disabled","replace","timeSelector","i_in_24","time","padded","am_html","pm_html","move","parentOffset","top","containerTop","parentRightEdge","width","offset","scrollLeft","clientWidth","outerHeight","scrollHeight","containerWidth","outerWidth","containerRight","containerLeft","_outsideClickProxy","outsideClick","oldStartDate","oldEndDate","trigger","chosenLabel","off","target","type","closest","showCalendars","hideCalendars","getAttribute","dates","cal","parents","title","attr","substr","el","dt","stopPropagation","customRange","isLeft","leftOrRight","dateString","isValid","keyCode","newValue","remove","removeData","implementOptions","defaultOptions"],"mappings":"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","file":"all.js","sourcesContent":["$(document).ready(function(){  \n  // Navbar按鈕\n  $('span').click(function(event){\n    event.preventDefault();\n    $('.navBar-list').toggleClass('navBar-active');\n  });\n  // 固定navbar\n  $(window).scroll(function(){\n    let scrollTop = $(window).scrollTop();\n    let navbarH = $('nav').height();\n    if ( scrollTop >= 1 ) {\n      $('nav').addClass('fixed')\n      $('body').css('paddingTop', navbarH)\n    } else {\n      $('nav').removeClass('fixed')\n      $('body').css('paddingTop', 0)\n    }\n  })\n  // 預約按鈕\n  $('.reserveBtn').click(function(e){\n    e.preventDefault();\n    $('.reserve-modal').fadeIn(500);\n    $('.bg-opacity').addClass('active');\n    $('.reserve-confirm').click(function(e){\n      e.preventDefault();\n      $('.reserve-modal').fadeOut(500);\n      $('.modal-success').fadeIn(500);\n    });\n    $('.closeBtn').on('click', function() {\n      e.preventDefault();\n      $('.reserve-modal').fadeOut(300);\n      $('.modal-success').fadeOut(300);\n      setTimeout(() => {$('.bg-opacity').removeClass('active')}, 300);\n    });\n    $(function() {\n      $('.chooseDate').daterangepicker({\n        singleDatePicker: true,\n        autoApply:true,\n        locale: {\n          format: 'YYYY-MM-DD',\n          daysOfWeek:[\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\"],\n          monthNames: [\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"],\n        },\n      }, \n      function(start, end, label) {\n      });\n    });\n  });\n    \n  // 往下滑的箭頭按鈕\n  $('.arrowBtn a').click(function(){\n    event.preventDefault();\n      $('html, body').animate({\n        scrollTop :1400\n      },100)\n  })\n  // QA折疊選單\n  $('.question li .answer ').click(function(e){\n    e.preventDefault();\n    $(this).parent().find('a').toggleClass('active');\n    $(this).parent().find('p').slideToggle();\n    $(this).parent().siblings().find('p').slideUp();\n    $(this).parent().siblings().find('a').removeClass('active');\n  })\n\n  // datePicker\n  $(function() {\n    $('.chooseDate').daterangepicker({\n      singleDatePicker: true,\n      autoApply:true,\n      locale: {\n        format: 'YYYY-MM-DD',\n        daysOfWeek:[\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\"],\n        monthNames: [\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"],\n      },\n    }, \n     function(start, end, label) {\n    });\n  });\n});\n","/**\n* @version: 3.1\n* @author: Dan Grossman http://www.dangrossman.info/\n* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.\n* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php\n* @website: http://www.daterangepicker.com/\n*/\n// Following the UMD template https://github.com/umdjs/umd/blob/master/templates/returnExportsGlobal.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Make globaly available as well\n        define(['moment', 'jquery'], function (moment, jquery) {\n            if (!jquery.fn) jquery.fn = {}; // webpack server rendering\n            if (typeof moment !== 'function' && moment.hasOwnProperty('default')) moment = moment['default']\n            return factory(moment, jquery);\n        });\n    } else if (typeof module === 'object' && module.exports) {\n        // Node / Browserify\n        //isomorphic issue\n        var jQuery = (typeof window != 'undefined') ? window.jQuery : undefined;\n        if (!jQuery) {\n            jQuery = require('jquery');\n            if (!jQuery.fn) jQuery.fn = {};\n        }\n        var moment = (typeof window != 'undefined' && typeof window.moment != 'undefined') ? window.moment : require('moment');\n        module.exports = factory(moment, jQuery);\n    } else {\n        // Browser globals\n        root.daterangepicker = factory(root.moment, root.jQuery);\n    }\n}(typeof window !== 'undefined' ? window : this, function(moment, $) {\n    var DateRangePicker = function(element, options, cb) {\n\n        //default settings for options\n        this.parentEl = 'body';\n        this.element = $(element);\n        this.startDate = moment().startOf('day');\n        this.endDate = moment().endOf('day');\n        this.minDate = false;\n        this.maxDate = false;\n        this.maxSpan = false;\n        this.autoApply = false;\n        this.singleDatePicker = false;\n        this.showDropdowns = false;\n        this.minYear = moment().subtract(100, 'year').format('YYYY');\n        this.maxYear = moment().add(100, 'year').format('YYYY');\n        this.showWeekNumbers = false;\n        this.showISOWeekNumbers = false;\n        this.showCustomRangeLabel = true;\n        this.timePicker = false;\n        this.timePicker24Hour = false;\n        this.timePickerIncrement = 1;\n        this.timePickerSeconds = false;\n        this.linkedCalendars = true;\n        this.autoUpdateInput = true;\n        this.alwaysShowCalendars = false;\n        this.ranges = {};\n\n        this.opens = 'right';\n        if (this.element.hasClass('pull-right'))\n            this.opens = 'left';\n\n        this.drops = 'down';\n        if (this.element.hasClass('dropup'))\n            this.drops = 'up';\n\n        this.buttonClasses = 'btn btn-sm';\n        this.applyButtonClasses = 'btn-primary';\n        this.cancelButtonClasses = 'btn-default';\n\n        this.locale = {\n            direction: 'ltr',\n            format: moment.localeData().longDateFormat('L'),\n            separator: ' - ',\n            applyLabel: 'Apply',\n            cancelLabel: 'Cancel',\n            weekLabel: 'W',\n            customRangeLabel: 'Custom Range',\n            daysOfWeek: moment.weekdaysMin(),\n            monthNames: moment.monthsShort(),\n            firstDay: moment.localeData().firstDayOfWeek()\n        };\n\n        this.callback = function() { };\n\n        //some state information\n        this.isShowing = false;\n        this.leftCalendar = {};\n        this.rightCalendar = {};\n\n        //custom options from user\n        if (typeof options !== 'object' || options === null)\n            options = {};\n\n        //allow setting options with data attributes\n        //data-api options will be overwritten with custom javascript options\n        options = $.extend(this.element.data(), options);\n\n        //html template for the picker UI\n        if (typeof options.template !== 'string' && !(options.template instanceof $))\n            options.template =\n            '<div class=\"daterangepicker\">' +\n                '<div class=\"ranges\"></div>' +\n                '<div class=\"drp-calendar left\">' +\n                    '<div class=\"calendar-table\"></div>' +\n                    '<div class=\"calendar-time\"></div>' +\n                '</div>' +\n                '<div class=\"drp-calendar right\">' +\n                    '<div class=\"calendar-table\"></div>' +\n                    '<div class=\"calendar-time\"></div>' +\n                '</div>' +\n                '<div class=\"drp-buttons\">' +\n                    '<span class=\"drp-selected\"></span>' +\n                    '<button class=\"cancelBtn\" type=\"button\"></button>' +\n                    '<button class=\"applyBtn\" disabled=\"disabled\" type=\"button\"></button> ' +\n                '</div>' +\n            '</div>';\n\n        this.parentEl = (options.parentEl && $(options.parentEl).length) ? $(options.parentEl) : $(this.parentEl);\n        this.container = $(options.template).appendTo(this.parentEl);\n\n        //\n        // handle all the possible options overriding defaults\n        //\n\n        if (typeof options.locale === 'object') {\n\n            if (typeof options.locale.direction === 'string')\n                this.locale.direction = options.locale.direction;\n\n            if (typeof options.locale.format === 'string')\n                this.locale.format = options.locale.format;\n\n            if (typeof options.locale.separator === 'string')\n                this.locale.separator = options.locale.separator;\n\n            if (typeof options.locale.daysOfWeek === 'object')\n                this.locale.daysOfWeek = options.locale.daysOfWeek.slice();\n\n            if (typeof options.locale.monthNames === 'object')\n              this.locale.monthNames = options.locale.monthNames.slice();\n\n            if (typeof options.locale.firstDay === 'number')\n              this.locale.firstDay = options.locale.firstDay;\n\n            if (typeof options.locale.applyLabel === 'string')\n              this.locale.applyLabel = options.locale.applyLabel;\n\n            if (typeof options.locale.cancelLabel === 'string')\n              this.locale.cancelLabel = options.locale.cancelLabel;\n\n            if (typeof options.locale.weekLabel === 'string')\n              this.locale.weekLabel = options.locale.weekLabel;\n\n            if (typeof options.locale.customRangeLabel === 'string'){\n                //Support unicode chars in the custom range name.\n                var elem = document.createElement('textarea');\n                elem.innerHTML = options.locale.customRangeLabel;\n                var rangeHtml = elem.value;\n                this.locale.customRangeLabel = rangeHtml;\n            }\n        }\n        this.container.addClass(this.locale.direction);\n\n        if (typeof options.startDate === 'string')\n            this.startDate = moment(options.startDate, this.locale.format);\n\n        if (typeof options.endDate === 'string')\n            this.endDate = moment(options.endDate, this.locale.format);\n\n        if (typeof options.minDate === 'string')\n            this.minDate = moment(options.minDate, this.locale.format);\n\n        if (typeof options.maxDate === 'string')\n            this.maxDate = moment(options.maxDate, this.locale.format);\n\n        if (typeof options.startDate === 'object')\n            this.startDate = moment(options.startDate);\n\n        if (typeof options.endDate === 'object')\n            this.endDate = moment(options.endDate);\n\n        if (typeof options.minDate === 'object')\n            this.minDate = moment(options.minDate);\n\n        if (typeof options.maxDate === 'object')\n            this.maxDate = moment(options.maxDate);\n\n        // sanity check for bad options\n        if (this.minDate && this.startDate.isBefore(this.minDate))\n            this.startDate = this.minDate.clone();\n\n        // sanity check for bad options\n        if (this.maxDate && this.endDate.isAfter(this.maxDate))\n            this.endDate = this.maxDate.clone();\n\n        if (typeof options.applyButtonClasses === 'string')\n            this.applyButtonClasses = options.applyButtonClasses;\n\n        if (typeof options.applyClass === 'string') //backwards compat\n            this.applyButtonClasses = options.applyClass;\n\n        if (typeof options.cancelButtonClasses === 'string')\n            this.cancelButtonClasses = options.cancelButtonClasses;\n\n        if (typeof options.cancelClass === 'string') //backwards compat\n            this.cancelButtonClasses = options.cancelClass;\n\n        if (typeof options.maxSpan === 'object')\n            this.maxSpan = options.maxSpan;\n\n        if (typeof options.dateLimit === 'object') //backwards compat\n            this.maxSpan = options.dateLimit;\n\n        if (typeof options.opens === 'string')\n            this.opens = options.opens;\n\n        if (typeof options.drops === 'string')\n            this.drops = options.drops;\n\n        if (typeof options.showWeekNumbers === 'boolean')\n            this.showWeekNumbers = options.showWeekNumbers;\n\n        if (typeof options.showISOWeekNumbers === 'boolean')\n            this.showISOWeekNumbers = options.showISOWeekNumbers;\n\n        if (typeof options.buttonClasses === 'string')\n            this.buttonClasses = options.buttonClasses;\n\n        if (typeof options.buttonClasses === 'object')\n            this.buttonClasses = options.buttonClasses.join(' ');\n\n        if (typeof options.showDropdowns === 'boolean')\n            this.showDropdowns = options.showDropdowns;\n\n        if (typeof options.minYear === 'number')\n            this.minYear = options.minYear;\n\n        if (typeof options.maxYear === 'number')\n            this.maxYear = options.maxYear;\n\n        if (typeof options.showCustomRangeLabel === 'boolean')\n            this.showCustomRangeLabel = options.showCustomRangeLabel;\n\n        if (typeof options.singleDatePicker === 'boolean') {\n            this.singleDatePicker = options.singleDatePicker;\n            if (this.singleDatePicker)\n                this.endDate = this.startDate.clone();\n        }\n\n        if (typeof options.timePicker === 'boolean')\n            this.timePicker = options.timePicker;\n\n        if (typeof options.timePickerSeconds === 'boolean')\n            this.timePickerSeconds = options.timePickerSeconds;\n\n        if (typeof options.timePickerIncrement === 'number')\n            this.timePickerIncrement = options.timePickerIncrement;\n\n        if (typeof options.timePicker24Hour === 'boolean')\n            this.timePicker24Hour = options.timePicker24Hour;\n\n        if (typeof options.autoApply === 'boolean')\n            this.autoApply = options.autoApply;\n\n        if (typeof options.autoUpdateInput === 'boolean')\n            this.autoUpdateInput = options.autoUpdateInput;\n\n        if (typeof options.linkedCalendars === 'boolean')\n            this.linkedCalendars = options.linkedCalendars;\n\n        if (typeof options.isInvalidDate === 'function')\n            this.isInvalidDate = options.isInvalidDate;\n\n        if (typeof options.isCustomDate === 'function')\n            this.isCustomDate = options.isCustomDate;\n\n        if (typeof options.alwaysShowCalendars === 'boolean')\n            this.alwaysShowCalendars = options.alwaysShowCalendars;\n\n        // update day names order to firstDay\n        if (this.locale.firstDay != 0) {\n            var iterator = this.locale.firstDay;\n            while (iterator > 0) {\n                this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());\n                iterator--;\n            }\n        }\n\n        var start, end, range;\n\n        //if no start/end dates set, check if an input element contains initial values\n        if (typeof options.startDate === 'undefined' && typeof options.endDate === 'undefined') {\n            if ($(this.element).is(':text')) {\n                var val = $(this.element).val(),\n                    split = val.split(this.locale.separator);\n\n                start = end = null;\n\n                if (split.length == 2) {\n                    start = moment(split[0], this.locale.format);\n                    end = moment(split[1], this.locale.format);\n                } else if (this.singleDatePicker && val !== \"\") {\n                    start = moment(val, this.locale.format);\n                    end = moment(val, this.locale.format);\n                }\n                if (start !== null && end !== null) {\n                    this.setStartDate(start);\n                    this.setEndDate(end);\n                }\n            }\n        }\n\n        if (typeof options.ranges === 'object') {\n            for (range in options.ranges) {\n\n                if (typeof options.ranges[range][0] === 'string')\n                    start = moment(options.ranges[range][0], this.locale.format);\n                else\n                    start = moment(options.ranges[range][0]);\n\n                if (typeof options.ranges[range][1] === 'string')\n                    end = moment(options.ranges[range][1], this.locale.format);\n                else\n                    end = moment(options.ranges[range][1]);\n\n                // If the start or end date exceed those allowed by the minDate or maxSpan\n                // options, shorten the range to the allowable period.\n                if (this.minDate && start.isBefore(this.minDate))\n                    start = this.minDate.clone();\n\n                var maxDate = this.maxDate;\n                if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate))\n                    maxDate = start.clone().add(this.maxSpan);\n                if (maxDate && end.isAfter(maxDate))\n                    end = maxDate.clone();\n\n                // If the end of the range is before the minimum or the start of the range is\n                // after the maximum, don't display this range option at all.\n                if ((this.minDate && end.isBefore(this.minDate, this.timepicker ? 'minute' : 'day'))\n                  || (maxDate && start.isAfter(maxDate, this.timepicker ? 'minute' : 'day')))\n                    continue;\n\n                //Support unicode chars in the range names.\n                var elem = document.createElement('textarea');\n                elem.innerHTML = range;\n                var rangeHtml = elem.value;\n\n                this.ranges[rangeHtml] = [start, end];\n            }\n\n            var list = '<ul>';\n            for (range in this.ranges) {\n                list += '<li data-range-key=\"' + range + '\">' + range + '</li>';\n            }\n            if (this.showCustomRangeLabel) {\n                list += '<li data-range-key=\"' + this.locale.customRangeLabel + '\">' + this.locale.customRangeLabel + '</li>';\n            }\n            list += '</ul>';\n            this.container.find('.ranges').prepend(list);\n        }\n\n        if (typeof cb === 'function') {\n            this.callback = cb;\n        }\n\n        if (!this.timePicker) {\n            this.startDate = this.startDate.startOf('day');\n            this.endDate = this.endDate.endOf('day');\n            this.container.find('.calendar-time').hide();\n        }\n\n        //can't be used together for now\n        if (this.timePicker && this.autoApply)\n            this.autoApply = false;\n\n        if (this.autoApply) {\n            this.container.addClass('auto-apply');\n        }\n\n        if (typeof options.ranges === 'object')\n            this.container.addClass('show-ranges');\n\n        if (this.singleDatePicker) {\n            this.container.addClass('single');\n            this.container.find('.drp-calendar.left').addClass('single');\n            this.container.find('.drp-calendar.left').show();\n            this.container.find('.drp-calendar.right').hide();\n            if (!this.timePicker && this.autoApply) {\n                this.container.addClass('auto-apply');\n            }\n        }\n\n        if ((typeof options.ranges === 'undefined' && !this.singleDatePicker) || this.alwaysShowCalendars) {\n            this.container.addClass('show-calendar');\n        }\n\n        this.container.addClass('opens' + this.opens);\n\n        //apply CSS classes and labels to buttons\n        this.container.find('.applyBtn, .cancelBtn').addClass(this.buttonClasses);\n        if (this.applyButtonClasses.length)\n            this.container.find('.applyBtn').addClass(this.applyButtonClasses);\n        if (this.cancelButtonClasses.length)\n            this.container.find('.cancelBtn').addClass(this.cancelButtonClasses);\n        this.container.find('.applyBtn').html(this.locale.applyLabel);\n        this.container.find('.cancelBtn').html(this.locale.cancelLabel);\n\n        //\n        // event listeners\n        //\n\n        this.container.find('.drp-calendar')\n            .on('click.daterangepicker', '.prev', $.proxy(this.clickPrev, this))\n            .on('click.daterangepicker', '.next', $.proxy(this.clickNext, this))\n            .on('mousedown.daterangepicker', 'td.available', $.proxy(this.clickDate, this))\n            .on('mouseenter.daterangepicker', 'td.available', $.proxy(this.hoverDate, this))\n            .on('change.daterangepicker', 'select.yearselect', $.proxy(this.monthOrYearChanged, this))\n            .on('change.daterangepicker', 'select.monthselect', $.proxy(this.monthOrYearChanged, this))\n            .on('change.daterangepicker', 'select.hourselect,select.minuteselect,select.secondselect,select.ampmselect', $.proxy(this.timeChanged, this));\n\n        this.container.find('.ranges')\n            .on('click.daterangepicker', 'li', $.proxy(this.clickRange, this));\n\n        this.container.find('.drp-buttons')\n            .on('click.daterangepicker', 'button.applyBtn', $.proxy(this.clickApply, this))\n            .on('click.daterangepicker', 'button.cancelBtn', $.proxy(this.clickCancel, this));\n\n        if (this.element.is('input') || this.element.is('button')) {\n            this.element.on({\n                'click.daterangepicker': $.proxy(this.show, this),\n                'focus.daterangepicker': $.proxy(this.show, this),\n                'keyup.daterangepicker': $.proxy(this.elementChanged, this),\n                'keydown.daterangepicker': $.proxy(this.keydown, this) //IE 11 compatibility\n            });\n        } else {\n            this.element.on('click.daterangepicker', $.proxy(this.toggle, this));\n            this.element.on('keydown.daterangepicker', $.proxy(this.toggle, this));\n        }\n\n        //\n        // if attached to a text input, set the initial value\n        //\n\n        this.updateElement();\n\n    };\n\n    DateRangePicker.prototype = {\n\n        constructor: DateRangePicker,\n\n        setStartDate: function(startDate) {\n            if (typeof startDate === 'string')\n                this.startDate = moment(startDate, this.locale.format);\n\n            if (typeof startDate === 'object')\n                this.startDate = moment(startDate);\n\n            if (!this.timePicker)\n                this.startDate = this.startDate.startOf('day');\n\n            if (this.timePicker && this.timePickerIncrement)\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n\n            if (this.minDate && this.startDate.isBefore(this.minDate)) {\n                this.startDate = this.minDate.clone();\n                if (this.timePicker && this.timePickerIncrement)\n                    this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n\n            if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n                this.startDate = this.maxDate.clone();\n                if (this.timePicker && this.timePickerIncrement)\n                    this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n\n            if (!this.isShowing)\n                this.updateElement();\n\n            this.updateMonthsInView();\n        },\n\n        setEndDate: function(endDate) {\n            if (typeof endDate === 'string')\n                this.endDate = moment(endDate, this.locale.format);\n\n            if (typeof endDate === 'object')\n                this.endDate = moment(endDate);\n\n            if (!this.timePicker)\n                this.endDate = this.endDate.endOf('day');\n\n            if (this.timePicker && this.timePickerIncrement)\n                this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n\n            if (this.endDate.isBefore(this.startDate))\n                this.endDate = this.startDate.clone();\n\n            if (this.maxDate && this.endDate.isAfter(this.maxDate))\n                this.endDate = this.maxDate.clone();\n\n            if (this.maxSpan && this.startDate.clone().add(this.maxSpan).isBefore(this.endDate))\n                this.endDate = this.startDate.clone().add(this.maxSpan);\n\n            this.previousRightTime = this.endDate.clone();\n\n            this.container.find('.drp-selected').html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\n\n            if (!this.isShowing)\n                this.updateElement();\n\n            this.updateMonthsInView();\n        },\n\n        isInvalidDate: function() {\n            return false;\n        },\n\n        isCustomDate: function() {\n            return false;\n        },\n\n        updateView: function() {\n            if (this.timePicker) {\n                this.renderTimePicker('left');\n                this.renderTimePicker('right');\n                if (!this.endDate) {\n                    this.container.find('.right .calendar-time select').prop('disabled', true).addClass('disabled');\n                } else {\n                    this.container.find('.right .calendar-time select').prop('disabled', false).removeClass('disabled');\n                }\n            }\n            if (this.endDate)\n                this.container.find('.drp-selected').html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\n            this.updateMonthsInView();\n            this.updateCalendars();\n            this.updateFormInputs();\n        },\n\n        updateMonthsInView: function() {\n            if (this.endDate) {\n\n                //if both dates are visible already, do nothing\n                if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n                    (this.startDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.startDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\n                    &&\n                    (this.endDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.endDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\n                    ) {\n                    return;\n                }\n\n                this.leftCalendar.month = this.startDate.clone().date(2);\n                if (!this.linkedCalendars && (this.endDate.month() != this.startDate.month() || this.endDate.year() != this.startDate.year())) {\n                    this.rightCalendar.month = this.endDate.clone().date(2);\n                } else {\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n                }\n\n            } else {\n                if (this.leftCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM') && this.rightCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM')) {\n                    this.leftCalendar.month = this.startDate.clone().date(2);\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n                }\n            }\n            if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n              this.rightCalendar.month = this.maxDate.clone().date(2);\n              this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n            }\n        },\n\n        updateCalendars: function() {\n\n            if (this.timePicker) {\n                var hour, minute, second;\n                if (this.endDate) {\n                    hour = parseInt(this.container.find('.left .hourselect').val(), 10);\n                    minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\n                    if (isNaN(minute)) {\n                        minute = parseInt(this.container.find('.left .minuteselect option:last').val(), 10);\n                    }\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.left .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                } else {\n                    hour = parseInt(this.container.find('.right .hourselect').val(), 10);\n                    minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\n                    if (isNaN(minute)) {\n                        minute = parseInt(this.container.find('.right .minuteselect option:last').val(), 10);\n                    }\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.right .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                }\n                this.leftCalendar.month.hour(hour).minute(minute).second(second);\n                this.rightCalendar.month.hour(hour).minute(minute).second(second);\n            }\n\n            this.renderCalendar('left');\n            this.renderCalendar('right');\n\n            //highlight any predefined range matching the current start and end dates\n            this.container.find('.ranges li').removeClass('active');\n            if (this.endDate == null) return;\n\n            this.calculateChosenLabel();\n        },\n\n        renderCalendar: function(side) {\n\n            //\n            // Build the matrix of dates that will populate the calendar\n            //\n\n            var calendar = side == 'left' ? this.leftCalendar : this.rightCalendar;\n            var month = calendar.month.month();\n            var year = calendar.month.year();\n            var hour = calendar.month.hour();\n            var minute = calendar.month.minute();\n            var second = calendar.month.second();\n            var daysInMonth = moment([year, month]).daysInMonth();\n            var firstDay = moment([year, month, 1]);\n            var lastDay = moment([year, month, daysInMonth]);\n            var lastMonth = moment(firstDay).subtract(1, 'month').month();\n            var lastYear = moment(firstDay).subtract(1, 'month').year();\n            var daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n            var dayOfWeek = firstDay.day();\n\n            //initialize a 6 rows x 7 columns array for the calendar\n            var calendar = [];\n            calendar.firstDay = firstDay;\n            calendar.lastDay = lastDay;\n\n            for (var i = 0; i < 6; i++) {\n                calendar[i] = [];\n            }\n\n            //populate the calendar with date objects\n            var startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n            if (startDay > daysInLastMonth)\n                startDay -= 7;\n\n            if (dayOfWeek == this.locale.firstDay)\n                startDay = daysInLastMonth - 6;\n\n            var curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n            var col, row;\n            for (var i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {\n                if (i > 0 && col % 7 === 0) {\n                    col = 0;\n                    row++;\n                }\n                calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n                curDate.hour(12);\n\n                if (this.minDate && calendar[row][col].format('YYYY-MM-DD') == this.minDate.format('YYYY-MM-DD') && calendar[row][col].isBefore(this.minDate) && side == 'left') {\n                    calendar[row][col] = this.minDate.clone();\n                }\n\n                if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') == this.maxDate.format('YYYY-MM-DD') && calendar[row][col].isAfter(this.maxDate) && side == 'right') {\n                    calendar[row][col] = this.maxDate.clone();\n                }\n\n            }\n\n            //make the calendar object available to hoverDate/clickDate\n            if (side == 'left') {\n                this.leftCalendar.calendar = calendar;\n            } else {\n                this.rightCalendar.calendar = calendar;\n            }\n\n            //\n            // Display the calendar\n            //\n\n            var minDate = side == 'left' ? this.minDate : this.startDate;\n            var maxDate = this.maxDate;\n            var selected = side == 'left' ? this.startDate : this.endDate;\n            var arrow = this.locale.direction == 'ltr' ? {left: 'chevron-left', right: 'chevron-right'} : {left: 'chevron-right', right: 'chevron-left'};\n\n            var html = '<table class=\"table-condensed\">';\n            html += '<thead>';\n            html += '<tr>';\n\n            // add empty cell for week number\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\n                html += '<th></th>';\n\n            if ((!minDate || minDate.isBefore(calendar.firstDay)) && (!this.linkedCalendars || side == 'left')) {\n                html += '<th class=\"prev available\"><span></span></th>';\n            } else {\n                html += '<th></th>';\n            }\n\n            var dateHtml = this.locale.monthNames[calendar[1][1].month()] + calendar[1][1].format(\" YYYY\");\n\n            if (this.showDropdowns) {\n                var currentMonth = calendar[1][1].month();\n                var currentYear = calendar[1][1].year();\n                var maxYear = (maxDate && maxDate.year()) || (this.maxYear);\n                var minYear = (minDate && minDate.year()) || (this.minYear);\n                var inMinYear = currentYear == minYear;\n                var inMaxYear = currentYear == maxYear;\n\n                var monthHtml = '<select class=\"monthselect\">';\n                for (var m = 0; m < 12; m++) {\n                    if ((!inMinYear || (minDate && m >= minDate.month())) && (!inMaxYear || (maxDate && m <= maxDate.month()))) {\n                        monthHtml += \"<option value='\" + m + \"'\" +\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\n                            \">\" + this.locale.monthNames[m] + \"</option>\";\n                    } else {\n                        monthHtml += \"<option value='\" + m + \"'\" +\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\n                            \" disabled='disabled'>\" + this.locale.monthNames[m] + \"</option>\";\n                    }\n                }\n                monthHtml += \"</select>\";\n\n                var yearHtml = '<select class=\"yearselect\">';\n                for (var y = minYear; y <= maxYear; y++) {\n                    yearHtml += '<option value=\"' + y + '\"' +\n                        (y === currentYear ? ' selected=\"selected\"' : '') +\n                        '>' + y + '</option>';\n                }\n                yearHtml += '</select>';\n\n                dateHtml = monthHtml + yearHtml;\n            }\n\n            html += '<th colspan=\"5\" class=\"month\">' + dateHtml + '</th>';\n            if ((!maxDate || maxDate.isAfter(calendar.lastDay)) && (!this.linkedCalendars || side == 'right' || this.singleDatePicker)) {\n                html += '<th class=\"next available\"><span></span></th>';\n            } else {\n                html += '<th></th>';\n            }\n\n            html += '</tr>';\n            html += '<tr>';\n\n            // add week number label\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\n                html += '<th class=\"week\">' + this.locale.weekLabel + '</th>';\n\n            $.each(this.locale.daysOfWeek, function(index, dayOfWeek) {\n                html += '<th>' + dayOfWeek + '</th>';\n            });\n\n            html += '</tr>';\n            html += '</thead>';\n            html += '<tbody>';\n\n            //adjust maxDate to reflect the maxSpan setting in order to\n            //grey out end dates beyond the maxSpan\n            if (this.endDate == null && this.maxSpan) {\n                var maxLimit = this.startDate.clone().add(this.maxSpan).endOf('day');\n                if (!maxDate || maxLimit.isBefore(maxDate)) {\n                    maxDate = maxLimit;\n                }\n            }\n\n            for (var row = 0; row < 6; row++) {\n                html += '<tr>';\n\n                // add week number\n                if (this.showWeekNumbers)\n                    html += '<td class=\"week\">' + calendar[row][0].week() + '</td>';\n                else if (this.showISOWeekNumbers)\n                    html += '<td class=\"week\">' + calendar[row][0].isoWeek() + '</td>';\n\n                for (var col = 0; col < 7; col++) {\n\n                    var classes = [];\n\n                    //highlight today's date\n                    if (calendar[row][col].isSame(new Date(), \"day\"))\n                        classes.push('today');\n\n                    //highlight weekends\n                    if (calendar[row][col].isoWeekday() > 5)\n                        classes.push('weekend');\n\n                    //grey out the dates in other months displayed at beginning and end of this calendar\n                    if (calendar[row][col].month() != calendar[1][1].month())\n                        classes.push('off', 'ends');\n\n                    //don't allow selection of dates before the minimum date\n                    if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day'))\n                        classes.push('off', 'disabled');\n\n                    //don't allow selection of dates after the maximum date\n                    if (maxDate && calendar[row][col].isAfter(maxDate, 'day'))\n                        classes.push('off', 'disabled');\n\n                    //don't allow selection of date if a custom function decides it's invalid\n                    if (this.isInvalidDate(calendar[row][col]))\n                        classes.push('off', 'disabled');\n\n                    //highlight the currently selected start date\n                    if (calendar[row][col].format('YYYY-MM-DD') == this.startDate.format('YYYY-MM-DD'))\n                        classes.push('active', 'start-date');\n\n                    //highlight the currently selected end date\n                    if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') == this.endDate.format('YYYY-MM-DD'))\n                        classes.push('active', 'end-date');\n\n                    //highlight dates in-between the selected dates\n                    if (this.endDate != null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate)\n                        classes.push('in-range');\n\n                    //apply custom classes for this date\n                    var isCustom = this.isCustomDate(calendar[row][col]);\n                    if (isCustom !== false) {\n                        if (typeof isCustom === 'string')\n                            classes.push(isCustom);\n                        else\n                            Array.prototype.push.apply(classes, isCustom);\n                    }\n\n                    var cname = '', disabled = false;\n                    for (var i = 0; i < classes.length; i++) {\n                        cname += classes[i] + ' ';\n                        if (classes[i] == 'disabled')\n                            disabled = true;\n                    }\n                    if (!disabled)\n                        cname += 'available';\n\n                    html += '<td class=\"' + cname.replace(/^\\s+|\\s+$/g, '') + '\" data-title=\"' + 'r' + row + 'c' + col + '\">' + calendar[row][col].date() + '</td>';\n\n                }\n                html += '</tr>';\n            }\n\n            html += '</tbody>';\n            html += '</table>';\n\n            this.container.find('.drp-calendar.' + side + ' .calendar-table').html(html);\n\n        },\n\n        renderTimePicker: function(side) {\n\n            // Don't bother updating the time picker if it's currently disabled\n            // because an end date hasn't been clicked yet\n            if (side == 'right' && !this.endDate) return;\n\n            var html, selected, minDate, maxDate = this.maxDate;\n\n            if (this.maxSpan && (!this.maxDate || this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)))\n                maxDate = this.startDate.clone().add(this.maxSpan);\n\n            if (side == 'left') {\n                selected = this.startDate.clone();\n                minDate = this.minDate;\n            } else if (side == 'right') {\n                selected = this.endDate.clone();\n                minDate = this.startDate;\n\n                //Preserve the time already selected\n                var timeSelector = this.container.find('.drp-calendar.right .calendar-time');\n                if (timeSelector.html() != '') {\n\n                    selected.hour(!isNaN(selected.hour()) ? selected.hour() : timeSelector.find('.hourselect option:selected').val());\n                    selected.minute(!isNaN(selected.minute()) ? selected.minute() : timeSelector.find('.minuteselect option:selected').val());\n                    selected.second(!isNaN(selected.second()) ? selected.second() : timeSelector.find('.secondselect option:selected').val());\n\n                    if (!this.timePicker24Hour) {\n                        var ampm = timeSelector.find('.ampmselect option:selected').val();\n                        if (ampm === 'PM' && selected.hour() < 12)\n                            selected.hour(selected.hour() + 12);\n                        if (ampm === 'AM' && selected.hour() === 12)\n                            selected.hour(0);\n                    }\n\n                }\n\n                if (selected.isBefore(this.startDate))\n                    selected = this.startDate.clone();\n\n                if (maxDate && selected.isAfter(maxDate))\n                    selected = maxDate.clone();\n\n            }\n\n            //\n            // hours\n            //\n\n            html = '<select class=\"hourselect\">';\n\n            var start = this.timePicker24Hour ? 0 : 1;\n            var end = this.timePicker24Hour ? 23 : 12;\n\n            for (var i = start; i <= end; i++) {\n                var i_in_24 = i;\n                if (!this.timePicker24Hour)\n                    i_in_24 = selected.hour() >= 12 ? (i == 12 ? 12 : i + 12) : (i == 12 ? 0 : i);\n\n                var time = selected.clone().hour(i_in_24);\n                var disabled = false;\n                if (minDate && time.minute(59).isBefore(minDate))\n                    disabled = true;\n                if (maxDate && time.minute(0).isAfter(maxDate))\n                    disabled = true;\n\n                if (i_in_24 == selected.hour() && !disabled) {\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + i + '</option>';\n                } else if (disabled) {\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + i + '</option>';\n                } else {\n                    html += '<option value=\"' + i + '\">' + i + '</option>';\n                }\n            }\n\n            html += '</select> ';\n\n            //\n            // minutes\n            //\n\n            html += ': <select class=\"minuteselect\">';\n\n            for (var i = 0; i < 60; i += this.timePickerIncrement) {\n                var padded = i < 10 ? '0' + i : i;\n                var time = selected.clone().minute(i);\n\n                var disabled = false;\n                if (minDate && time.second(59).isBefore(minDate))\n                    disabled = true;\n                if (maxDate && time.second(0).isAfter(maxDate))\n                    disabled = true;\n\n                if (selected.minute() == i && !disabled) {\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\n                } else if (disabled) {\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\n                } else {\n                    html += '<option value=\"' + i + '\">' + padded + '</option>';\n                }\n            }\n\n            html += '</select> ';\n\n            //\n            // seconds\n            //\n\n            if (this.timePickerSeconds) {\n                html += ': <select class=\"secondselect\">';\n\n                for (var i = 0; i < 60; i++) {\n                    var padded = i < 10 ? '0' + i : i;\n                    var time = selected.clone().second(i);\n\n                    var disabled = false;\n                    if (minDate && time.isBefore(minDate))\n                        disabled = true;\n                    if (maxDate && time.isAfter(maxDate))\n                        disabled = true;\n\n                    if (selected.second() == i && !disabled) {\n                        html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\n                    } else if (disabled) {\n                        html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\n                    } else {\n                        html += '<option value=\"' + i + '\">' + padded + '</option>';\n                    }\n                }\n\n                html += '</select> ';\n            }\n\n            //\n            // AM/PM\n            //\n\n            if (!this.timePicker24Hour) {\n                html += '<select class=\"ampmselect\">';\n\n                var am_html = '';\n                var pm_html = '';\n\n                if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate))\n                    am_html = ' disabled=\"disabled\" class=\"disabled\"';\n\n                if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate))\n                    pm_html = ' disabled=\"disabled\" class=\"disabled\"';\n\n                if (selected.hour() >= 12) {\n                    html += '<option value=\"AM\"' + am_html + '>AM</option><option value=\"PM\" selected=\"selected\"' + pm_html + '>PM</option>';\n                } else {\n                    html += '<option value=\"AM\" selected=\"selected\"' + am_html + '>AM</option><option value=\"PM\"' + pm_html + '>PM</option>';\n                }\n\n                html += '</select>';\n            }\n\n            this.container.find('.drp-calendar.' + side + ' .calendar-time').html(html);\n\n        },\n\n        updateFormInputs: function() {\n\n            if (this.singleDatePicker || (this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)))) {\n                this.container.find('button.applyBtn').prop('disabled', false);\n            } else {\n                this.container.find('button.applyBtn').prop('disabled', true);\n            }\n\n        },\n\n        move: function() {\n            var parentOffset = { top: 0, left: 0 },\n                containerTop,\n                drops = this.drops;\n\n            var parentRightEdge = $(window).width();\n            if (!this.parentEl.is('body')) {\n                parentOffset = {\n                    top: this.parentEl.offset().top - this.parentEl.scrollTop(),\n                    left: this.parentEl.offset().left - this.parentEl.scrollLeft()\n                };\n                parentRightEdge = this.parentEl[0].clientWidth + this.parentEl.offset().left;\n            }\n\n            switch (drops) {\n            case 'auto':\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\n                if (containerTop + this.container.outerHeight() >= this.parentEl[0].scrollHeight) {\n                    containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\n                    drops = 'up';\n                }\n                break;\n            case 'up':\n                containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\n                break;\n            default:\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\n                break;\n            }\n\n            // Force the container to it's actual width\n            this.container.css({\n              top: 0,\n              left: 0,\n              right: 'auto'\n            });\n            var containerWidth = this.container.outerWidth();\n\n            this.container.toggleClass('drop-up', drops == 'up');\n\n            if (this.opens == 'left') {\n                var containerRight = parentRightEdge - this.element.offset().left - this.element.outerWidth();\n                if (containerWidth + containerRight > $(window).width()) {\n                    this.container.css({\n                        top: containerTop,\n                        right: 'auto',\n                        left: 9\n                    });\n                } else {\n                    this.container.css({\n                        top: containerTop,\n                        right: containerRight,\n                        left: 'auto'\n                    });\n                }\n            } else if (this.opens == 'center') {\n                var containerLeft = this.element.offset().left - parentOffset.left + this.element.outerWidth() / 2\n                                        - containerWidth / 2;\n                if (containerLeft < 0) {\n                    this.container.css({\n                        top: containerTop,\n                        right: 'auto',\n                        left: 9\n                    });\n                } else if (containerLeft + containerWidth > $(window).width()) {\n                    this.container.css({\n                        top: containerTop,\n                        left: 'auto',\n                        right: 0\n                    });\n                } else {\n                    this.container.css({\n                        top: containerTop,\n                        left: containerLeft,\n                        right: 'auto'\n                    });\n                }\n            } else {\n                var containerLeft = this.element.offset().left - parentOffset.left;\n                if (containerLeft + containerWidth > $(window).width()) {\n                    this.container.css({\n                        top: containerTop,\n                        left: 'auto',\n                        right: 0\n                    });\n                } else {\n                    this.container.css({\n                        top: containerTop,\n                        left: containerLeft,\n                        right: 'auto'\n                    });\n                }\n            }\n        },\n\n        show: function(e) {\n            if (this.isShowing) return;\n\n            // Create a click proxy that is private to this instance of datepicker, for unbinding\n            this._outsideClickProxy = $.proxy(function(e) { this.outsideClick(e); }, this);\n\n            // Bind global datepicker mousedown for hiding and\n            $(document)\n              .on('mousedown.daterangepicker', this._outsideClickProxy)\n              // also support mobile devices\n              .on('touchend.daterangepicker', this._outsideClickProxy)\n              // also explicitly play nice with Bootstrap dropdowns, which stopPropagation when clicking them\n              .on('click.daterangepicker', '[data-toggle=dropdown]', this._outsideClickProxy)\n              // and also close when focus changes to outside the picker (eg. tabbing between controls)\n              .on('focusin.daterangepicker', this._outsideClickProxy);\n\n            // Reposition the picker if the window is resized while it's open\n            $(window).on('resize.daterangepicker', $.proxy(function(e) { this.move(e); }, this));\n\n            this.oldStartDate = this.startDate.clone();\n            this.oldEndDate = this.endDate.clone();\n            this.previousRightTime = this.endDate.clone();\n\n            this.updateView();\n            this.container.show();\n            this.move();\n            this.element.trigger('show.daterangepicker', this);\n            this.isShowing = true;\n        },\n\n        hide: function(e) {\n            if (!this.isShowing) return;\n\n            //incomplete date selection, revert to last values\n            if (!this.endDate) {\n                this.startDate = this.oldStartDate.clone();\n                this.endDate = this.oldEndDate.clone();\n            }\n\n            //if a new date range was selected, invoke the user callback function\n            if (!this.startDate.isSame(this.oldStartDate) || !this.endDate.isSame(this.oldEndDate))\n                this.callback(this.startDate.clone(), this.endDate.clone(), this.chosenLabel);\n\n            //if picker is attached to a text input, update it\n            this.updateElement();\n\n            $(document).off('.daterangepicker');\n            $(window).off('.daterangepicker');\n            this.container.hide();\n            this.element.trigger('hide.daterangepicker', this);\n            this.isShowing = false;\n        },\n\n        toggle: function(e) {\n            if (this.isShowing) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        },\n\n        outsideClick: function(e) {\n            var target = $(e.target);\n            // if the page is clicked anywhere except within the daterangerpicker/button\n            // itself then call this.hide()\n            if (\n                // ie modal dialog fix\n                e.type == \"focusin\" ||\n                target.closest(this.element).length ||\n                target.closest(this.container).length ||\n                target.closest('.calendar-table').length\n                ) return;\n            this.hide();\n            this.element.trigger('outsideClick.daterangepicker', this);\n        },\n\n        showCalendars: function() {\n            this.container.addClass('show-calendar');\n            this.move();\n            this.element.trigger('showCalendar.daterangepicker', this);\n        },\n\n        hideCalendars: function() {\n            this.container.removeClass('show-calendar');\n            this.element.trigger('hideCalendar.daterangepicker', this);\n        },\n\n        clickRange: function(e) {\n            var label = e.target.getAttribute('data-range-key');\n            this.chosenLabel = label;\n            if (label == this.locale.customRangeLabel) {\n                this.showCalendars();\n            } else {\n                var dates = this.ranges[label];\n                this.startDate = dates[0];\n                this.endDate = dates[1];\n\n                if (!this.timePicker) {\n                    this.startDate.startOf('day');\n                    this.endDate.endOf('day');\n                }\n\n                if (!this.alwaysShowCalendars)\n                    this.hideCalendars();\n                this.clickApply();\n            }\n        },\n\n        clickPrev: function(e) {\n            var cal = $(e.target).parents('.drp-calendar');\n            if (cal.hasClass('left')) {\n                this.leftCalendar.month.subtract(1, 'month');\n                if (this.linkedCalendars)\n                    this.rightCalendar.month.subtract(1, 'month');\n            } else {\n                this.rightCalendar.month.subtract(1, 'month');\n            }\n            this.updateCalendars();\n        },\n\n        clickNext: function(e) {\n            var cal = $(e.target).parents('.drp-calendar');\n            if (cal.hasClass('left')) {\n                this.leftCalendar.month.add(1, 'month');\n            } else {\n                this.rightCalendar.month.add(1, 'month');\n                if (this.linkedCalendars)\n                    this.leftCalendar.month.add(1, 'month');\n            }\n            this.updateCalendars();\n        },\n\n        hoverDate: function(e) {\n\n            //ignore dates that can't be selected\n            if (!$(e.target).hasClass('available')) return;\n\n            var title = $(e.target).attr('data-title');\n            var row = title.substr(1, 1);\n            var col = title.substr(3, 1);\n            var cal = $(e.target).parents('.drp-calendar');\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n            //highlight the dates between the start date and the date being hovered as a potential end date\n            var leftCalendar = this.leftCalendar;\n            var rightCalendar = this.rightCalendar;\n            var startDate = this.startDate;\n            if (!this.endDate) {\n                this.container.find('.drp-calendar tbody td').each(function(index, el) {\n\n                    //skip week numbers, only look at dates\n                    if ($(el).hasClass('week')) return;\n\n                    var title = $(el).attr('data-title');\n                    var row = title.substr(1, 1);\n                    var col = title.substr(3, 1);\n                    var cal = $(el).parents('.drp-calendar');\n                    var dt = cal.hasClass('left') ? leftCalendar.calendar[row][col] : rightCalendar.calendar[row][col];\n\n                    if ((dt.isAfter(startDate) && dt.isBefore(date)) || dt.isSame(date, 'day')) {\n                        $(el).addClass('in-range');\n                    } else {\n                        $(el).removeClass('in-range');\n                    }\n\n                });\n            }\n\n        },\n\n        clickDate: function(e) {\n\n            if (!$(e.target).hasClass('available')) return;\n\n            var title = $(e.target).attr('data-title');\n            var row = title.substr(1, 1);\n            var col = title.substr(3, 1);\n            var cal = $(e.target).parents('.drp-calendar');\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n            //\n            // this function needs to do a few things:\n            // * alternate between selecting a start and end date for the range,\n            // * if the time picker is enabled, apply the hour/minute/second from the select boxes to the clicked date\n            // * if autoapply is enabled, and an end date was chosen, apply the selection\n            // * if single date picker mode, and time picker isn't enabled, apply the selection immediately\n            // * if one of the inputs above the calendars was focused, cancel that manual input\n            //\n\n            if (this.endDate || date.isBefore(this.startDate, 'day')) { //picking start\n                if (this.timePicker) {\n                    var hour = parseInt(this.container.find('.left .hourselect').val(), 10);\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.left .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                    var minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\n                    if (isNaN(minute)) {\n                        minute = parseInt(this.container.find('.left .minuteselect option:last').val(), 10);\n                    }\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\n                    date = date.clone().hour(hour).minute(minute).second(second);\n                }\n                this.endDate = null;\n                this.setStartDate(date.clone());\n            } else if (!this.endDate && date.isBefore(this.startDate)) {\n                //special case: clicking the same date for start/end,\n                //but the time of the end date is before the start date\n                this.setEndDate(this.startDate.clone());\n            } else { // picking end\n                if (this.timePicker) {\n                    var hour = parseInt(this.container.find('.right .hourselect').val(), 10);\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.right .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                    var minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\n                    if (isNaN(minute)) {\n                        minute = parseInt(this.container.find('.right .minuteselect option:last').val(), 10);\n                    }\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\n                    date = date.clone().hour(hour).minute(minute).second(second);\n                }\n                this.setEndDate(date.clone());\n                if (this.autoApply) {\n                  this.calculateChosenLabel();\n                  this.clickApply();\n                }\n            }\n\n            if (this.singleDatePicker) {\n                this.setEndDate(this.startDate);\n                if (!this.timePicker && this.autoApply)\n                    this.clickApply();\n            }\n\n            this.updateView();\n\n            //This is to cancel the blur event handler if the mouse was in one of the inputs\n            e.stopPropagation();\n\n        },\n\n        calculateChosenLabel: function () {\n            var customRange = true;\n            var i = 0;\n            for (var range in this.ranges) {\n              if (this.timePicker) {\n                    var format = this.timePickerSeconds ? \"YYYY-MM-DD HH:mm:ss\" : \"YYYY-MM-DD HH:mm\";\n                    //ignore times when comparing dates if time picker seconds is not enabled\n                    if (this.startDate.format(format) == this.ranges[range][0].format(format) && this.endDate.format(format) == this.ranges[range][1].format(format)) {\n                        customRange = false;\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').attr('data-range-key');\n                        break;\n                    }\n                } else {\n                    //ignore times when comparing dates if time picker is not enabled\n                    if (this.startDate.format('YYYY-MM-DD') == this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') == this.ranges[range][1].format('YYYY-MM-DD')) {\n                        customRange = false;\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').attr('data-range-key');\n                        break;\n                    }\n                }\n                i++;\n            }\n            if (customRange) {\n                if (this.showCustomRangeLabel) {\n                    this.chosenLabel = this.container.find('.ranges li:last').addClass('active').attr('data-range-key');\n                } else {\n                    this.chosenLabel = null;\n                }\n                this.showCalendars();\n            }\n        },\n\n        clickApply: function(e) {\n            this.hide();\n            this.element.trigger('apply.daterangepicker', this);\n        },\n\n        clickCancel: function(e) {\n            this.startDate = this.oldStartDate;\n            this.endDate = this.oldEndDate;\n            this.hide();\n            this.element.trigger('cancel.daterangepicker', this);\n        },\n\n        monthOrYearChanged: function(e) {\n            var isLeft = $(e.target).closest('.drp-calendar').hasClass('left'),\n                leftOrRight = isLeft ? 'left' : 'right',\n                cal = this.container.find('.drp-calendar.'+leftOrRight);\n\n            // Month must be Number for new moment versions\n            var month = parseInt(cal.find('.monthselect').val(), 10);\n            var year = cal.find('.yearselect').val();\n\n            if (!isLeft) {\n                if (year < this.startDate.year() || (year == this.startDate.year() && month < this.startDate.month())) {\n                    month = this.startDate.month();\n                    year = this.startDate.year();\n                }\n            }\n\n            if (this.minDate) {\n                if (year < this.minDate.year() || (year == this.minDate.year() && month < this.minDate.month())) {\n                    month = this.minDate.month();\n                    year = this.minDate.year();\n                }\n            }\n\n            if (this.maxDate) {\n                if (year > this.maxDate.year() || (year == this.maxDate.year() && month > this.maxDate.month())) {\n                    month = this.maxDate.month();\n                    year = this.maxDate.year();\n                }\n            }\n\n            if (isLeft) {\n                this.leftCalendar.month.month(month).year(year);\n                if (this.linkedCalendars)\n                    this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n            } else {\n                this.rightCalendar.month.month(month).year(year);\n                if (this.linkedCalendars)\n                    this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n            }\n            this.updateCalendars();\n        },\n\n        timeChanged: function(e) {\n\n            var cal = $(e.target).closest('.drp-calendar'),\n                isLeft = cal.hasClass('left');\n\n            var hour = parseInt(cal.find('.hourselect').val(), 10);\n            var minute = parseInt(cal.find('.minuteselect').val(), 10);\n            if (isNaN(minute)) {\n                minute = parseInt(cal.find('.minuteselect option:last').val(), 10);\n            }\n            var second = this.timePickerSeconds ? parseInt(cal.find('.secondselect').val(), 10) : 0;\n\n            if (!this.timePicker24Hour) {\n                var ampm = cal.find('.ampmselect').val();\n                if (ampm === 'PM' && hour < 12)\n                    hour += 12;\n                if (ampm === 'AM' && hour === 12)\n                    hour = 0;\n            }\n\n            if (isLeft) {\n                var start = this.startDate.clone();\n                start.hour(hour);\n                start.minute(minute);\n                start.second(second);\n                this.setStartDate(start);\n                if (this.singleDatePicker) {\n                    this.endDate = this.startDate.clone();\n                } else if (this.endDate && this.endDate.format('YYYY-MM-DD') == start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n                    this.setEndDate(start.clone());\n                }\n            } else if (this.endDate) {\n                var end = this.endDate.clone();\n                end.hour(hour);\n                end.minute(minute);\n                end.second(second);\n                this.setEndDate(end);\n            }\n\n            //update the calendars so all clickable dates reflect the new time component\n            this.updateCalendars();\n\n            //update the form inputs above the calendars with the new time\n            this.updateFormInputs();\n\n            //re-render the time pickers because changing one selection can affect what's enabled in another\n            this.renderTimePicker('left');\n            this.renderTimePicker('right');\n\n        },\n\n        elementChanged: function() {\n            if (!this.element.is('input')) return;\n            if (!this.element.val().length) return;\n\n            var dateString = this.element.val().split(this.locale.separator),\n                start = null,\n                end = null;\n\n            if (dateString.length === 2) {\n                start = moment(dateString[0], this.locale.format);\n                end = moment(dateString[1], this.locale.format);\n            }\n\n            if (this.singleDatePicker || start === null || end === null) {\n                start = moment(this.element.val(), this.locale.format);\n                end = start;\n            }\n\n            if (!start.isValid() || !end.isValid()) return;\n\n            this.setStartDate(start);\n            this.setEndDate(end);\n            this.updateView();\n        },\n\n        keydown: function(e) {\n            //hide on tab or enter\n            if ((e.keyCode === 9) || (e.keyCode === 13)) {\n                this.hide();\n            }\n\n            //hide on esc and prevent propagation\n            if (e.keyCode === 27) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                this.hide();\n            }\n        },\n\n        updateElement: function() {\n            if (this.element.is('input') && this.autoUpdateInput) {\n                var newValue = this.startDate.format(this.locale.format);\n                if (!this.singleDatePicker) {\n                    newValue += this.locale.separator + this.endDate.format(this.locale.format);\n                }\n                if (newValue !== this.element.val()) {\n                    this.element.val(newValue).trigger('change');\n                }\n            }\n        },\n\n        remove: function() {\n            this.container.remove();\n            this.element.off('.daterangepicker');\n            this.element.removeData();\n        }\n\n    };\n\n    $.fn.daterangepicker = function(options, callback) {\n        var implementOptions = $.extend(true, {}, $.fn.daterangepicker.defaultOptions, options);\n        this.each(function() {\n            var el = $(this);\n            if (el.data('daterangepicker'))\n                el.data('daterangepicker').remove();\n            el.data('daterangepicker', new DateRangePicker(el, implementOptions, callback));\n        });\n        return this;\n    };\n\n    return DateRangePicker;\n\n}));\n"]}